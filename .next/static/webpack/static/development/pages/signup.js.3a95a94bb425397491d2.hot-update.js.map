{"version":3,"file":"static/webpack/static/development/pages/signup.js.3a95a94bb425397491d2.hot-update.js","sources":["webpack:///./pages/signup.jsx"],"sourcesContent":["import Layout from \"../components/MyLayout\";\nimport React, { Component } from \"react\";\nimport fetch from \"isomorphic-unfetch\";\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n  }\n\n  usernameHandler = event => {\n    this.setState({ username: event.target.value });\n  };\n\n  passwordHandler = event => {\n    this.setState({ password: event.target.value });\n  };\n\n  signupHandler = async event => {\n    event.preventDefault();\n    let data = new FormData();\n    data.append(\"username\", this.state.username);\n    data.append(\"password\", this.state.password);\n    let response = await fetch(\"/signup\", { method: \"POST\", body: data });\n    let responseBody = await response.text();\n    console.log(responseBody);\n    // let parsedBody = JSON.parse(responseBody);\n    if (!responseBody.success) {\n      alert(responseBody.msg);\n      this.setState({ password: \"\", username: \"\" });\n      return;\n    }\n    if (respsonseBody.success) {\n      console.log(\"parsedBody = \", responseBody);\n      alert(\"Signup successful\");\n    }\n  };\n\n  render = () => {\n    return (\n      <Layout>\n        <div>\n          <form onSubmit={this.signupHandler}>\n            <input\n              type=\"text\"\n              name=\"username\"\n              placeholder=\"enter a username\"\n              onChange={this.usernameHandler}\n            />\n            <input\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"enter a password\"\n              onChange={this.usernameHandler}\n            />\n            <input type=\"submit\" />\n          </form>\n        </div>\n      </Layout>\n    );\n  };\n}\n\nexport default Signup;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AASA;AAAA;AAAA;AACA;AACA;AAXA;AAaA;AAAA;AAAA;AACA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAKA;AAAA;AAAA;AACA;AANA;AAKA;AALA;AAAA;AACA;AADA;AAMA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAZA;AACA;AADA;AAcA;AACA;AACA;AACA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAjBA;AAAA;AAAA;AAAA;AACA;AADA;AAqCA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAzDA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;AARA;AACA;AA6DA;;;;A","sourceRoot":""}